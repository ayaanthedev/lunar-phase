<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Moon Phase Today</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background: #0d1b2a;
        color: #f0f0f0;
        text-align: center;
      }
      .moon-phase {
        font-size: 2rem;
        margin-top: 20px;
      }
      .moon-emoji {
        font-size: 5rem;
      }
    </style>
  </head>
  <body>
    <h1>ðŸŒ™ Moon Phase Today</h1>
    <div class="moon-emoji" id="moon-emoji">ðŸŒ‘</div>
    <div class="moon-phase" id="moon-phase">Calculating...</div>

    <script>
      function getMoonPhase(date = new Date()) {
        const year = date.getFullYear();
        const month = date.getMonth() + 1;
        const day = date.getDate();

        // Julian date
        let jd =
          Math.floor(365.25 * (year + 4716)) +
          Math.floor(30.6001 * (month + 1)) +
          day -
          1524.5;

        const knownNewMoon = 2451550.1;
        const synodicMonth = 29.53058867;
        let age = (jd - knownNewMoon) % synodicMonth;
        if (age < 0) age += synodicMonth;

        let phaseName = "";
        let emoji = "";

        if (age < 1.84566) {
          phaseName = "New Moon";
          emoji = "ðŸŒ‘";
        } else if (age < 5.53699) {
          phaseName = "Waxing Crescent";
          emoji = "ðŸŒ’";
        } else if (age < 9.22831) {
          phaseName = "First Quarter";
          emoji = "ðŸŒ“";
        } else if (age < 12.91963) {
          phaseName = "Waxing Gibbous";
          emoji = "ðŸŒ”";
        } else if (age < 16.61096) {
          phaseName = "Full Moon";
          emoji = "ðŸŒ•";
        } else if (age < 20.30228) {
          phaseName = "Waning Gibbous";
          emoji = "ðŸŒ–";
        } else if (age < 23.99361) {
          phaseName = "Last Quarter";
          emoji = "ðŸŒ—";
        } else if (age < 27.68493) {
          phaseName = "Waning Crescent";
          emoji = "ðŸŒ˜";
        } else {
          phaseName = "New Moon";
          emoji = "ðŸŒ‘";
        }

        return { phaseName, emoji };
      }

      const moon = getMoonPhase();
      document.getElementById("moon-phase").textContent = moon.phaseName;
      document.getElementById("moon-emoji").textContent = moon.emoji;
    </script>
  </body>
</html>
