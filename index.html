<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png" />
    <link rel="shortcut icon" href="assets/favicon.ico" />

    <!-- Apple -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png" />

    <!-- Android / PWA -->
    <link rel="manifest" href="assets/site.webmanifest" />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="assets/android-chrome-192x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="512x512"
      href="assets/android-chrome-512x512.png"
    />

    <title>Moon Phase Today</title>


    
<style>
  :root {
    --moon-glow: 0.25; /* adjusted to match your glow */
    --bg-gradient-start: #0B1220;
    --bg-gradient-end: #141E33;
    --card-bg: #1A2438;
    --card-border: rgba(255,255,255,0.06);
    --text-main: #E5E7EB;
    --text-secondary: #9CA3AF;
    --accent: #FACC15;
    --glow: rgba(140, 170, 255, 0.25);
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Oxygen, Ubuntu, Cantarell, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    background: linear-gradient(135deg, var(--bg-gradient-start) 50%, var(--bg-gradient-end) 100%);
    color: var(--text-main);
    text-align: center;
    padding: 20px;
    overflow-x: hidden;
  }

  .container {
    max-width: 500px;
    width: 100%;
    background: var(--card-bg);
    backdrop-filter: blur(10px);
    border-radius: 30px;
    padding: 40px 30px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
    border: 1px solid var(--card-border);
  }

  h1 {
    font-size: 2.5rem;
    font-weight: 300;
    letter-spacing: 2px;
    margin-bottom: 40px;
    background: linear-gradient(135deg, var(--text-main) 0%, var(--text-secondary) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .moon-container {
    position: relative;
    width: 280px;
    height: 280px;
    margin: 0 auto 30px;
  }

  .moon-glow {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(1);
    width: 360px;
    height: 360px;
    border-radius: 50%;
    pointer-events: none;
    z-index: 0;
    mix-blend-mode: screen;
    background: radial-gradient(
        circle at center,
        var(--glow) 0%,
        rgba(140, 170, 255, 0.15) 18%,
        rgba(140, 170, 255, 0.06) 38%,
        transparent 62%
      ),
      radial-gradient(
        circle at center,
        rgba(250, 204, 21, 0.12) 0%,
        transparent 28%
      );
    filter: blur(18px);
    animation: pulse 4.5s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% {
      transform: translate(-50%, -50%) scale(1);
      opacity: 0.55;
    }
    50% {
      transform: translate(-50%, -50%) scale(1.08);
      opacity: 0.95;
    }
  }

  .moon-image {
    position: relative;
    width: 280px;
    height: 280px;
    border-radius: 50%;
    z-index: 2;
    object-fit: cover;
    border: 2px solid var(--card-border);
    box-shadow: 0 0 30px var(--glow),
      0 0 80px rgba(140, 170, 255, 0.18), inset 0 0 18px rgba(0, 0, 0, 0.35);
  }

  .phase-name {
    font-size: 2rem;
    font-weight: 300;
    margin-bottom: 15px;
    letter-spacing: 1px;
    color: var(--text-main);
  }

  .illumination {
    font-size: 3.5rem;
    font-weight: 200;
    margin-bottom: 10px;
    background: linear-gradient(135deg, var(--accent) 0%, #fff56b 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .info-section {
    margin-top: 25px;
    padding-top: 25px;
    border-top: 1px solid var(--card-border);
  }

  .moon-info {
    font-size: 1rem;
    line-height: 1.6;
    color: var(--text-secondary);
    margin-bottom: 15px;
  }

  .date-info {
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-top: 10px;
  }

  .stats {
    display: flex;
    justify-content: space-around;
    margin-top: 25px;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
  }

  .stat {
    text-align: center;
  }

  .stat-label {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--text-secondary);
    margin-bottom: 5px;
  }

  .stat-value {
    font-size: 1.1rem;
    font-weight: 500;
    color: var(--text-main);
  }

  .credit {
    margin-top: 30px;
    font-size: 0.75rem;
    color: var(--text-secondary);
    letter-spacing: 0.5px;
  }

  .loading {
    color: var(--text-secondary);
  }

  .Github {
    margin-top: 20px;
    font-size: 0.85rem;
  }

  .Github a {
    color: var(--text-secondary);
    text-decoration: none;
    padding: 8px 16px;
    border: 1px solid rgba(156, 163, 175, 0.4);
    border-radius: 6px;
    display: inline-block;
    transition: all 0.3s ease;
    font-weight: 500;
    letter-spacing: 0.5px;
  }

  .Github a:hover {
    color: var(--text-main);
    border-color: rgba(156, 163, 175, 0.8);
    background: rgba(156, 163, 175, 0.1);
    box-shadow: 0 0 20px rgba(156, 163, 175, 0.2);
  }

  .Github a:active {
    transform: scale(0.95);
  }
</style>

  </head>

  <body>
    <div class="container">
      <h1>ðŸŒ™ MOON PHASE</h1>

      <div class="moon-container">
        <div class="moon-glow"></div>
        <img
          class="moon-image"
          id="moon-image"
          src=""
          alt="Current Moon Phase"
        />
      </div>

      <div class="phase-name" id="moon-phase">
        <span class="loading">Calculating...</span>
      </div>

      <div class="illumination" id="illumination"></div>

      <div class="info-section">
        <div class="moon-info" id="moon-info"></div>
        <div class="date-info" id="date-info"></div>
      </div>

      <div class="stats">
        <div class="stat">
          <div class="stat-label">Age</div>
          <div class="stat-value" id="moon-age">â€”</div>
        </div>
        <div class="stat">
          <div class="stat-label">Phase</div>
          <div class="stat-value" id="moon-cycle">â€”</div>
        </div>
      </div>

      <div class="credit">Images courtesy of NASA/Goddard/LRO</div>
      <div class="Github">
        <a href="https://www.github.com/AyaanTheDev/lunar-phase" target="_blank"
          >GitHub</a
        >
      </div>
    </div>

    <script>
      function getMoonPhase(date = new Date()) {
        const year = date.getFullYear();
        const month = date.getMonth() + 1;
        const day = date.getDate();

        let a = Math.floor((14 - month) / 12);
        let y = year + 4800 - a;
        let m = month + 12 * a - 3;

        let jd =
          day +
          Math.floor((153 * m + 2) / 5) +
          365 * y +
          Math.floor(y / 4) -
          Math.floor(y / 100) +
          Math.floor(y / 400) -
          32045;

        const knownNewMoon = 2451550.1;
        const synodicMonth = 29.53058867;

        let age = (jd - knownNewMoon) % synodicMonth;
        if (age < 0) age += synodicMonth;

        const illumination =
          ((1 - Math.cos((age / synodicMonth) * 2 * Math.PI)) / 2) * 100;

        let phaseName = "";
        let imageUrl = "";
        let info = "";
        let cycle = "";

        if (age < 1.84566) {
          phaseName = "New Moon";
          imageUrl =
            "https://svs.gsfc.nasa.gov/vis/a000000/a005000/a005048/phase_new.1933_print.jpg";
          info =
            "The Moon is between Earth and the Sun. Not visible in the sky.";
          cycle = "Beginning";
        } else if (age < 5.53699) {
          phaseName = "Waxing Crescent";
          imageUrl =
            "https://svs.gsfc.nasa.gov/vis/a000000/a005000/a005048/phase_waxing_crescent.2028_print.jpg";
          info = "Visible toward the southwest in early evening.";
          cycle = "Growing";
        } else if (age < 9.22831) {
          phaseName = "First Quarter";
          imageUrl =
            "https://svs.gsfc.nasa.gov/vis/a000000/a005000/a005048/phase_first_quarter.2091_print.jpg";
          info = "High in the southern sky in early evening.";
          cycle = "Growing";
        } else if (age < 12.91963) {
          phaseName = "Waxing Gibbous";
          imageUrl =
            "https://svs.gsfc.nasa.gov/vis/a000000/a005000/a005048/phase_waxing_gibbous.2158_print.jpg";
          info = "Visible to the southeast in early evening.";
          cycle = "Growing";
        } else if (age < 16.61096) {
          phaseName = "Full Moon";
          imageUrl =
            "https://svs.gsfc.nasa.gov/vis/a000000/a005000/a005048/phase_full.1571_print.jpg";
          info =
            "Rises at sunset, high in the sky around midnight. Visible all night.";
          cycle = "Peak";
        } else if (age < 20.30228) {
          phaseName = "Waning Gibbous";
          imageUrl =
            "https://svs.gsfc.nasa.gov/vis/a000000/a005000/a005048/phase_waning_gibbous.2403_print.jpg";
          info = "Rises after sunset, visible to the southwest after sunrise.";
          cycle = "Shrinking";
        } else if (age < 23.99361) {
          phaseName = "Last Quarter";
          imageUrl =
            "https://svs.gsfc.nasa.gov/vis/a000000/a005000/a005048/phase_third_quarter.1755_print.jpg";
          info = "Rises around midnight, visible to the south after sunrise.";
          cycle = "Shrinking";
        } else if (age < 27.68493) {
          phaseName = "Waning Crescent";
          imageUrl =
            "https://svs.gsfc.nasa.gov/vis/a000000/a005000/a005048/phase_waning_crescent.1810_print.jpg";
          info = "Low to the east before sunrise.";
          cycle = "Shrinking";
        } else {
          phaseName = "New Moon";
          imageUrl =
            "https://svs.gsfc.nasa.gov/vis/a000000/a005000/a005048/phase_new.1933_print.jpg";
          info =
            "The Moon is between Earth and the Sun. Not visible in the sky.";
          cycle = "Beginning";
        }

        return {
          phaseName,
          imageUrl,
          info,
          age: age.toFixed(1),
          illumination: illumination.toFixed(1),
          cycle,
        };
      }

      function formatDate(date) {
        const options = {
          weekday: "long",
          year: "numeric",
          month: "long",
          day: "numeric",
        };
        return date.toLocaleDateString("en-US", options);
      }

      const moon = getMoonPhase();
      const today = new Date();

      document.getElementById("moon-phase").textContent = moon.phaseName;
      document.getElementById("moon-image").src = moon.imageUrl;
      document.getElementById("moon-info").textContent = moon.info;
      document.getElementById(
        "illumination"
      ).textContent = `${moon.illumination}%`;
      document.getElementById("date-info").textContent = formatDate(today);
      document.getElementById("moon-age").textContent = `${moon.age} days`;
      // map illumination (0-100) to a CSS alpha for the glow and set variable
      (function setMoonGlow() {
        const illum = parseFloat(moon.illumination) || 0;
        // map to a reasonable visible range: 0.12 (dim) -> 0.85 (bright)
        const glow = Math.min(0.95, 0.12 + (illum / 100) * 0.83);
        document.documentElement.style.setProperty("--moon-glow", glow.toFixed(3));
      })();
      document.getElementById("moon-cycle").textContent = moon.cycle;
    </script>
  </body>
</html>
